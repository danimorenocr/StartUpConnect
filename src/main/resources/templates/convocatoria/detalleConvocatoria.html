<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layout/layout :: head}"></head>

<body>

    <header th:replace="~{layout/layout :: header}"></header>
    
    <div class="container mt-5">
        <div class="card">
            <div class="card-header">
                <h1>Detalle de Convocatoria</h1>
            </div>
            <div class="card-body">
                <!-- Estado de la convocatoria -->
                <div class="badge-convocatoria mb-4" th:if="${convocatoriaDetalle.fechaFin.after(new java.util.Date())}">
                    Convocatoria Activa
                </div>
                <div class="badge-convocatoria mb-4 bg-secondary" th:unless="${convocatoriaDetalle.fechaFin.after(new java.util.Date())}">
                    Convocatoria Finalizada
                </div>
                
                <!-- Título -->
                <h2 class="mb-4" th:text="${convocatoriaDetalle.titulo}"></h2>
                
                <!-- Fechas -->
                <div class="mb-4">
                    <span class="date-badge"><i class="fas fa-calendar-alt"></i> Inicio: <span th:text="${#dates.format(convocatoriaDetalle.fechaInicio, 'dd/MM/yyyy')}"></span></span>
                    <span class="date-badge"><i class="fas fa-calendar-check"></i> Fin: <span th:text="${#dates.format(convocatoriaDetalle.fechaFin, 'dd/MM/yyyy')}"></span></span>
                </div>

                <!-- Descripción -->
                <div class="row mb-4">
                    <div class="col-md-3 fw-bold">Descripción:</div>
                    <div class="col-md-9" th:text="${convocatoriaDetalle.descripcion}"></div>
                </div>                <!-- Requisitos -->
                <div class="row mb-4">
                    <div class="col-md-3 fw-bold">Requisitos:</div>
                    <div class="col-md-9" th:text="${convocatoriaDetalle.requisitos}"></div>
                </div>

                <!-- Beneficios -->
                <div class="row mb-4">
                    <div class="col-md-3 fw-bold">Beneficios:</div>
                    <div class="col-md-9" th:text="${convocatoriaDetalle.beneficios}"></div>
                </div>

                <!-- Contacto -->
                <div class="row mb-4">
                    <div class="col-md-3 fw-bold">Contacto:</div>
                    <div class="col-md-9">
                        <i class="fas fa-envelope me-2 text-primary"></i>
                        <a href="#" th:text="${convocatoriaDetalle.contacto}"></a>
                    </div>
                </div>

                <!-- Sector Objetivo -->
                <div class="row mb-4">
                    <div class="col-md-3 fw-bold">Sector Objetivo:</div>
                    <div class="col-md-9">
                        <span class="badge bg-primary p-2" th:text="${convocatoriaDetalle.sectorObjetivo}"></span>
                    </div>
                </div>

                <!-- Organizador -->
                <div class="row mb-4">
                    <div class="col-md-3 fw-bold">Organizador:</div>
                    <div class="col-md-9">
                        <i class="fas fa-building me-2 text-primary"></i>
                        <span th:text="${convocatoriaDetalle.organizador}"></span>
                    </div>
                </div></div>            <div class="card-footer d-flex justify-content-between align-items-center p-3">
                <a th:href="@{/listarPostulaciones/{id}(id=${convocatoriaDetalle.id})}" class="btn btn-info text-white">
                    <i class="fas fa-list me-2"></i> Ver Postulaciones
                </a>
                
                <a th:href="@{/crearPostulacion(idConvocatoria=${convocatoriaDetalle.id})}" class="btn btn-success">
                    <i class="fas fa-rocket me-2"></i> Postular mi Startup
                </a>
                
            </div>
        </div>
    </div>

    </body>

</html>