<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StartUp Connect - Vitrina de Startups</title>
    <link rel="stylesheet" href="/css/vitrina.css">
        <link rel="icon" type="image/png" href="/images/StartUpConnect.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="main-bg">
    <header class="header">
        <div class="logo-container">
            <img src="/images/StartUpConnect.png" alt="StartUp Connect Logo" class="logo">
        </div>        <div class="header-buttons">
            <a th:href="@{/}" class="btn btn-primary">Volver</a>
            
            <!-- Botones para usuarios no autenticados -->
            <div sec:authorize="!isAuthenticated()">
                <a th:href="@{/login}" class="btn btn-outline">Iniciar Sesión</a>
                <a th:href="@{/registro}" class="btn btn-primary">Registrarse</a>
            </div>
              <!-- Botones para usuarios autenticados -->
            <div sec:authorize="isAuthenticated()">
                <!-- Dashboard según el rol -->
                <a sec:authorize="hasRole('ADMIN')" th:href="@{/administrador}" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a sec:authorize="hasRole('MENTOR')" th:href="@{/mentor}" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a sec:authorize="hasRole('EMPRENDEDOR')" th:href="@{/emprendedor}" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a sec:authorize="hasRole('INVERSIONISTA')" th:href="@{/vitrina-alt}" class="btn btn-primary">
                    <i class="fas fa-chart-line"></i> Vitrina
                </a>
                
                <form th:action="@{/logout}" method="post" style="display: inline;">
                    <button type="submit" class="btn btn-outline">
                        <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                    </button>
                </form>
            </div>
        </div>
    </header>    
    <main id="emprendedores" class="content">
        <div class="vitrina-container">
            <div class="banner-container">
                <img src="/images/bannerVitrina.jpg" alt="Banner de Startups" class="banner-image">
            </div>
            <div class="emprendedores-container">
                <h2 class="emprendedores-title">Nuestros Emprendedores</h2>
                <p class="emprendedores-description">Conoce a los innovadores detrás de nuestras startups.</p>

                <!-- Mensaje para cuando no hay emprendedores -->
                <div class="empty-state" th:if="${emprendedores == null || emprendedores.isEmpty()}">
                    <p>Aún no hay emprendedores registrados.</p>
                    <a href="/register" class="btn btn-outline btn-sm">¡Regístrate y sé el primero!</a>
                </div> <!-- Lista de emprendedores cuando sí hay datos -->
                <ul class="emprendedores-list" th:if="${emprendedores != null && !emprendedores.isEmpty()}">
                    <li class="emprendedor-item" th:each="emprendedor : ${emprendedores}">
                        <a th:href="@{/verEmprendedor/{id}(id=${emprendedor.documento})}" class="emprendedor-link">
                            <div class="emprendedor-card">
                                <img class="emprendedor-foto"
                                    th:src="${emprendedor.usuario != null && emprendedor.usuario.fotoUrl != null ? emprendedor.usuario.fotoUrl : '/images/sinfoto.jpg'}"
                                    alt="Foto del emprendedor">
                                <span class="emprendedor-nombre"
                                    th:text="${emprendedor.usuario != null ? emprendedor.usuario.nombreUsu : 'Sin usuario'}"></span>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Nueva sección de Startups -->
        <div id="startups" class="startups-section">
            <h2 class="section-title">Startups Destacadas</h2>
            <p class="section-description">Descubre proyectos innovadores y conecta con ellos.</p>
            
            <!-- Mensaje para cuando no hay startups -->
            <div class="empty-state" th:if="${startups == null || startups.isEmpty()}">
                <p>Aún no hay startups registradas.</p>
                <a href="/register" class="btn btn-outline btn-sm">¡Regístrate y crea la primera!</a>
            </div>
              <!-- Grid de startups cuando sí hay datos -->
            <div class="startups-grid" th:if="${startups != null && !startups.isEmpty()}">
                <div class="startup-card" th:each="startup : ${startups}" 
                     th:style="'background-image: url(' + ${startup.logoUrl != null ? startup.logoUrl : '/images/startup-default.jpg'} + ');'">
                    <div class="glass-overlay">
                        <h3 class="startup-name" th:text="${startup.nombreStartup}">Nombre de la Startup</h3>
                        <a th:href="@{/verStartup/{id}(id=${startup.id})}" class="startup-details-link">
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="/images/StartUpConnect.png" alt="StartUp Connect Logo" class="footer-logo-img">
            </div>
            <div class="footer-links">
                <h4>Enlaces</h4>
                <ul>
                    <li><a href="#startups" class="footer-link">Vitrina</a></li>
                    <li><a href="#emprendedores" class="footer-link">Emprendedores</a></li>  
                    <li><a href="/" class="footer-link">Inicio</a></li>                   
                    <li><a href="/register" class="footer-link">Registro</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <h4>Contacto</h4>
                <p><i class="fas fa-envelope"></i> contacto@startupconnect.com</p>
                <p><i class="fas fa-phone"></i> +57 300 123 4567</p>
                <div class="social-icons">
                    <a href="#" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 StartUp Connect. Todos los derechos reservados.</p>
        </div>
    </footer>
</body>

</html>