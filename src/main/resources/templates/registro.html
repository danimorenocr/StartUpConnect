<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="/images/StartUpConnect.png">

    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>


    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        integrity="sha512-DZ+M3e2Gp3+O7IBktg6X53MJw7dGzjIV3U9JGFA3oRY9FgPPk9XfOzNf+6b5iTh3t+8l4vhVp8REVOgkx1Xt+A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>

<body class="bg-white h-screen w-screen flex items-center justify-center overflow-hidden">

<a href="/" 
   class="fixed top-4 right-4 w-12 h-12 bg-[#E79938] border border-gray-300 rounded-full flex items-center justify-center text-gray-600 shadow-sm hover:bg-gray-50 transition"
   aria-label="Volver al inicio" 
   title="Volver al inicio">
   <i class="fas fa-home text-xl"></i>
</a>

    <div class="w-full h-full flex flex-col md:flex-row items-center justify-center">

        <!-- Campos formulario: Izquierda -->
        <div class="w-full md:w-1/2 h-full flex items-center justify-center px-6">
            <div class="w-full max-w-md max-h-[90vh] overflow-y-auto p-4">
                <h1 class="text-3xl md:text-4xl font-bold mb-6">
                    <span style="color: #52ACC4;">Sé parte de nuestra </span>
                    <span style="color: #043A68;">comunidad.</span>
                </h1>

                <p class="text-base md:text-lg text-gray-600 mt-2 text-lef ">
Forma parte de nosotros.</p>

                <form th:action="@{/registro}" method="post" enctype="multipart/form-data" th:object="${usuario}"
                    id="formUsuario" class="flex flex-col gap-5">

                    <div>
                        <label for="documento" class="block font-semibold">Documento:</label>
                        <input th:field="*{documento}" type="text" id="documento" name="documento"
                            placeholder="Ingrese su documento"
                            class="w-full mt-2 p-2 border-b border-sky-400 focus:outline-none focus:border-sky-500 bg-transparent transition" />
                    </div>

                    <div>
                        <label for="nombre" class="block font-semibold">Nombre:</label>
                        <input th:field="*{nombreUsu}" type="text" id="nombre" name="nombre" placeholder="Ingrese su nombre"
                            class="w-full mt-2 p-2 border-b border-sky-400 focus:outline-none focus:border-sky-500 bg-transparent transition" />
                    </div>

                    <div>
                        <label for="email" class="block font-semibold">Email:</label>
                        <input th:field="*{emailUsu}" type="email" id="email" name="email" placeholder="ejemplo@correo.com"
                            class="w-full mt-2 p-2 border-b border-sky-400 focus:outline-none focus:border-sky-500 bg-transparent transition" />
                    </div>

                    <div>
                        <label for="password" class="block font-semibold">Contraseña:</label>
                        <input th:field="*{contrasenna}" type="password" id="password" name="password"
                            placeholder="Ingrese su contraseña"
                            class="w-full mt-2 p-2 border-b border-sky-400 focus:outline-none focus:border-sky-500 bg-transparent transition" />
                    </div>

                    <div>
                        <label for="telefono" class="block font-semibold">Teléfono:</label>
                        <input th:field="*{telefono}" type="tel" id="telefono" name="telefono"
                            placeholder="Ingrese su teléfono"
                            class="w-full mt-2 p-2 border-b border-sky-400 focus:outline-none focus:border-sky-500 bg-transparent transition" />
                    </div>

                    <div>
                        <label for="rol" class="block font-semibold">Rol:</label>
                        <select id="rol" name="rol" onchange="redirigirPorRol(this.value)"
                            class="w-full mt-2 p-2 border-b border-sky-400 focus:outline-none focus:border-sky-500 bg-transparent transition">
                            <option value="">Seleccione un rol</option>
        <option th:each="r : ${roles}"
                th:value="${r.idRol}"
                th:data-rol="${r.rol}"
                th:text="${r.rol}">
        </option>
                        </select>
                    </div>

<div>
    <label for="foto" class="block font-semibold mb-1">Seleccionar imagen:</label>
    <div class="relative w-full">
        <!-- input file oculto pero clickable -->
        <input type="file" id="foto" name="foto" accept="image/*"
            class="opacity-0 absolute inset-0 w-full h-full cursor-pointer" />
        <!-- botón personalizado -->
<div class="flex justify-center mt-4">
    <button type="button"
        class="py-2 px-6 bg-[#E79938] text-white rounded font-bold hover:bg-[#E25D00] hover:scale-105 active:scale-95 transition pointer-events-none select-none">
        Seleccionar archivo
    </button>
</div>


    </div>

    <img id="preview" src="" alt="Previsualización" class="mt-4 max-w-xs hidden" />
</div>

<button type="submit"
    class="bg-[#E79938] text-white py-2 px-4 rounded font-bold hover:bg-[#E25D00] hover:scale-105 active:scale-95 transition mt-6">
    Registrarse
</button>


                </form>
            </div>
        </div>

        <!-- Imagen: Derecha -->
        <div class="w-full md:w-1/2 h-1/2 md:h-full">
            <img src="/images/registro.png" alt="Galería de Arte" class="w-full h-full object-cover" />
        </div>
    </div>

    <script>
        const imagenInput = document.getElementById('foto');
        const preview = document.getElementById('preview');

        imagenInput.addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                }
                reader.readAsDataURL(file);
            } else {
                preview.src = '';
                preview.classList.add('hidden');
            }
        });

    </script>

</body>

</html>
